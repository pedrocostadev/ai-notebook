[
    {
        "category": "functional",
        "description": "Persist the current chat selected when closing the app and restore it on next launch",
        "steps": [
            "On app close, serialize the current selected chat (any selected PDF/chapter context as needed)",
            "Write the serialized app state to persistent storage",
            "On app launch, load the last saved app state if present",
            "Restore the chat UI to the same state the user had when the app was closed",
            "Handle missing/corrupt saved state gracefully (start with an empty chat)"
        ],
        "passes": true
    },
    {
        "category": "ui",
        "description": "Show a loading state immediately after selecting a PDF to upload",
        "steps": [
            "When the user selects a PDF file, immediately transition away from the empty state",
            "Display a clear loading/uploading placeholder while the upload begins",
            "Ensure the loading state is shown consistently for the first-time upload case",
            "Remove the loading state once upload/progress indicator takes over or upload completes",
            "Handle upload initiation errors with an actionable message"
        ],
        "passes": true
    },
    {
        "category": "ui",
        "description": "Use a single unified processing indicator for each PDF upload + processing, with progress tooltip and completion state",
        "steps": [
            "Replace multiple upload/processing indicators for the same PDF with one main indicator shown in the primary chat view",
            "Show the indicator while a PDF is uploading or chapters are processing",
            "Display a message like \"Processing chapter 3 of 10\" on top header of the main chat",
            "When all chapters are processed, switch the indicator to a green \"completed\" state",
            "Ensure progress updates smoothly and remains accurate across multi-chapter PDFs",
            "Only display the chapter entry on the app sidebar when the chapter finishes processing"
        ],
        "passes": false
    },
    {
        "category": "ui",
        "description": "Improve the empty chat illustration to better use the available space",
        "steps": [
            "Redesign the empty chat illustration so it occupies an appropriate portion of the screen",
            "Improve layout, sizing, and positioning so it feels balanced and intentional",
            "Ensure the illustration remains responsive across window sizes",
            "Keep supporting empty-state text readable and visually integrated",
            "Verify it hides immediately once the first message is present"
        ],
        "passes": false
    },
    {
        "category": "onboarding",
        "description": "Improve the splash/welcome screen to better use available space with a more engaging illustration",
        "steps": [
            "Update the splash screen layout to take advantage of the available screen space",
            "Add/replace the illustration with something more interesting and engaging",
            "Ensure the illustration scales well with different window sizes",
            "Maintain clear hierarchy for inputs/actions (API key, model selection, etc.)",
            "Confirm the splash screen feels polished and consistent with the rest of the app"
        ],
        "passes": false
    },
    {
        "category": "functional",
        "description": "Every PDF chapter can be opened from the app",
        "steps": [
            "When a chapter finishes processing and loads into the app sidebar, we should display a button to open that chapter",
            "The button should be displayed in the top header of the chat",
            "The button should open only that chapter, not the entire PDF"
        ],
        "passes": true
    },
    {
        "category": "functional",
        "description": "Every PDF can be opened from the app",
        "steps": [
            "When a pdf finishes processing we should display a button to open the entire pdf",
            "The button should be displayed in the top header of the main chat",
            "The button should open the entire PDF"
        ],
        "passes": true
    }
]